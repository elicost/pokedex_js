let pokemonRepository=function(){let e=[];function t(){return e}function o(t){Object.keys(t).includes("name")&&"object"==typeof t?e.push(t):console.log("This is not an object or is missing key values")}function n(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types.map(e=>e.type.name).join(", ")}).catch(function(e){console.error(e)})}function i(e){n(e).then(function(){document.querySelector("#pokemonModalLabel").innerText=e.name,document.querySelector("#pokemon-image").src=e.imageUrl,document.querySelector("#pokemon-image").alt=e.name,document.querySelector("#pokemon-height").innerText="Height: "+e.height,document.querySelector("#pokemon-types").innerText="Types: "+e.types})}return{getAll:t,add:o,addListItem:function e(t){let o=document.querySelector("#pokeList"),n=document.createElement("div");n.classList.add("col-6","col-md-4","col-lg-3","mb-3");let r=document.createElement("button");r.innerText=t.name,r.classList.add("btn","btn-primary","btn-block","text-capitalize"),r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#pokemonModal"),r.addEventListener("click",function(){i(t)}),n.appendChild(r),o.appendChild(n)},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};o(t),console.log(t)})}).catch(function(e){console.error(e)})},loadDetails:n,showDetails:i,populateDatalist:function t(){let o=document.querySelector("#pokemon-names");e.forEach(e=>{let t=document.createElement("option");t.value=e.name,o.appendChild(t)})},filterPokemon:function e(t){let o=document.querySelectorAll("#pokeList > div"),n=t.toLowerCase().trim();o.forEach(e=>{let t=e.querySelector("button"),o=t.textContent.toLowerCase().includes(n);e.hidden=!o})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.populateDatalist()}),document.getElementById("search-pokemon").addEventListener("input",function(e){let t=e.target.value.toLowerCase();pokemonRepository.filterPokemon(t);let o=pokemonRepository.getAll().find(e=>e.name===t);o&&(pokemonRepository.showDetails(o),$("#pokemonModal").modal("show"))});